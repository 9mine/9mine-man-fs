PLAN9.INI(10.6)                                   PLAN9.INI(10.6)

NAME
<style color=#00ffffff size=1>.</style>            plan9.ini - configuration file for PCs

SYNOPSIS
<style color=#00ffffff size=1>.</style>            none

DESCRIPTION
<style color=#00ffffff size=1>.</style>            When booting Inferno on a PC, the Plan 9 bootstrap programs
<style color=#00ffffff size=1>.</style>            are used, hence the references to Plan 9 below. The DOS
<style color=#00ffffff size=1>.</style>            program 9load(10.8) first reads a DOS file containing
<style color=#00ffffff size=1>.</style>            configuration information from the boot disk. This file,
<style color=#00ffffff size=1>.</style>            plan9.ini, looks like a shell script containing lines of the
<style color=#00ffffff size=1>.</style>            form

<style color=#00ffffff size=1>.</style>            	name=value

<style color=#00ffffff size=1>.</style>            each of which defines a kernel or device parameter.

<style color=#00ffffff size=1>.</style>            For devices, the generic format of value is

<style color=#00ffffff size=1>.</style>            	type=TYPE \[port=N\] \[irq=N\] \[mem=N\] \[size=N\] \[dma=N\] \[ea=N\]

<style color=#00ffffff size=1>.</style>            specifying the controller type, the base I/O port of the
<style color=#00ffffff size=1>.</style>            interface, its interrupt level, the physical starting
<style color=#00ffffff size=1>.</style>            address of any mapped memory, the length in bytes of that
<style color=#00ffffff size=1>.</style>            memory, the DMA channel, and for Ethernets an override of
<style color=#00ffffff size=1>.</style>            the physical network address. Not all elements are relevant
<style color=#00ffffff size=1>.</style>            to all devices\; the relevant values and their defaults are
<style color=#00ffffff size=1>.</style>            defined below in the description of each device.

<style color=#00ffffff size=1>.</style>            The file is used by 9load and the kernel to configure the
<style color=#00ffffff size=1>.</style>            hardware available. The information it contains is also
<style color=#00ffffff size=1>.</style>            passed to the boot process, and subsequently other programs,
<style color=#00ffffff size=1>.</style>            as environment variables (see also osinit.dis in <action name=root(3)>root(3)</action>).
<style color=#00ffffff size=1>.</style>            However, values whose names begin with an asterisk * are
<style color=#00ffffff size=1>.</style>            used by the kernel and are not converted into environment
<style color=#00ffffff size=1>.</style>            variables.

<style color=#00ffffff size=1>.</style>            The following sections describe how variables are used.

<style color=#00ffffff size=1>.</style>         \fLetherX=value\fP
<style color=#00ffffff size=1>.</style>            This defines an Ethernet interface. X, a unique
<style color=#00ffffff size=1>.</style>            monotonically increasing number beginning at 0, identifies
<style color=#00ffffff size=1>.</style>            an Ethernet card to be probed at system boot. Probing stops
<style color=#00ffffff size=1>.</style>            when a card is found or there is no line for etherX+1. After
<style color=#00ffffff size=1>.</style>            probing as directed by the etherX lines, any remaining
<style color=#00ffffff size=1>.</style>            ethernet cards that can be automatically detected are added.
<style color=#00ffffff size=1>.</style>            Almost all cards can be automatically detected. For
<style color=#00ffffff size=1>.</style>            debugging purposes, automatic probing can be disabled by
<style color=#00ffffff size=1>.</style>            specifying the line *noetherprobe=. This automatic probing
<style color=#00ffffff size=1>.</style>            is only done by the kernel, not by 9load(10.8). Thus, if you
<style color=#00ffffff size=1>.</style>            want to load a kernel over the ethernet, you need to specify
<style color=#00ffffff size=1>.</style>            an ether0 line so that 9load can find the ethernet card,
<style color=#00ffffff size=1>.</style>            even if the kernel would have automatically detected it.

<style color=#00ffffff size=1>.</style>            Some cards are software configurable and do not require all
<style color=#00ffffff size=1>.</style>            options. Unspecified options default to the factory
<style color=#00ffffff size=1>.</style>            defaults.

<style color=#00ffffff size=1>.</style>            Known types are

<style color=#00ffffff size=1>.</style>            ne2000
<style color=#00ffffff size=1>.</style>                 Not software configurable. 16-bit card. Defaults are
<style color=#00ffffff size=1>.</style>                 	port=0x300 irq=2 mem=0x04000 size=0x4000
<style color=#00ffffff size=1>.</style>                 The option (no value) nodummyrr is needed on some
<style color=#00ffffff size=1>.</style>                 (near) clones to turn off a dummy remote read in the
<style color=#00ffffff size=1>.</style>                 driver.

<style color=#00ffffff size=1>.</style>            amd79c970
<style color=#00ffffff size=1>.</style>                 The AMD PCnet PCI Ethernet Adapter (AM79C970). (This is
<style color=#00ffffff size=1>.</style>                 the ethernet adapter used by VMware.) Completely
<style color=#00ffffff size=1>.</style>                 configurable, no options need be given.

<style color=#00ffffff size=1>.</style>            wd8003
<style color=#00ffffff size=1>.</style>                 Includes WD8013 and SMC Elite and Elite Ultra cards.
<style color=#00ffffff size=1>.</style>                 There are varying degrees of software configurability.
<style color=#00ffffff size=1>.</style>                 Cards may be in either 8-bit or 16-bit slots. Defaults
<style color=#00ffffff size=1>.</style>                 are
<style color=#00ffffff size=1>.</style>                 	port=0x280 irq=3 mem=0xD0000 size=0x2000
<style color=#00ffffff size=1>.</style>                 BUG: On many machines only the 16 bit card works.

<style color=#00ffffff size=1>.</style>            elnk3
<style color=#00ffffff size=1>.</style>                 The 3COM Etherlink III series of cards including the
<style color=#00ffffff size=1>.</style>                 5x9, 59x, and 905 and 905B. Completely configurable, no
<style color=#00ffffff size=1>.</style>                 options need be given. The media may be specified by
<style color=#00ffffff size=1>.</style>                 setting media= to the value 10BaseT, 10Base2, 100BaseTX
<style color=#00ffffff size=1>.</style>                 , 100BaseFX, aui, and mii. If you need to force full
<style color=#00ffffff size=1>.</style>                 duplex, because for example the Ethernet switch does
<style color=#00ffffff size=1>.</style>                 not negotiate correctly, just name the word (no value)
<style color=#00ffffff size=1>.</style>                 fullduplex or 100BASE-TXFD. Similarly, to force 100Mbit
<style color=#00ffffff size=1>.</style>                 operation, specify force100. Port 0x110 is used for the
<style color=#00ffffff size=1>.</style>                 little ISA configuration dance.

<style color=#00ffffff size=1>.</style>            3c589
<style color=#00ffffff size=1>.</style>                 The 3COM 3C589 series PCMCIA cards, including the 3C562
<style color=#00ffffff size=1>.</style>                 and the 589E. There is no support for the modem on the
<style color=#00ffffff size=1>.</style>                 3C562. Completely configurable, no options need be
<style color=#00ffffff size=1>.</style>                 given. Defaults are
<style color=#00ffffff size=1>.</style>                 	port=0x240 irq=10
<style color=#00ffffff size=1>.</style>                 The media may be specified as media=10BaseT or
<style color=#00ffffff size=1>.</style>                 media=10Base2.

<style color=#00ffffff size=1>.</style>            ec2t The Linksys Combo PCMCIA EthernetCard (EC2T), EtherFast
<style color=#00ffffff size=1>.</style>                 10/100 PCMCIA cards (PCMPC100) and integrated
<style color=#00ffffff size=1>.</style>                 controllers (PCM100), the Netgear FA410TX 10/100 PCMCIA
<style color=#00ffffff size=1>.</style>                 card and the Accton EtherPair-PCMCIA (EN2216).
<style color=#00ffffff size=1>.</style>                 Completely configurable, no options need be given.
<style color=#00ffffff size=1>.</style>                 Defaults are
<style color=#00ffffff size=1>.</style>                 	port=0x300 irq=9
<style color=#00ffffff size=1>.</style>                 These cards are NE2000 clones. Other NE2000 compatible
<style color=#00ffffff size=1>.</style>                 PCMCIA cards may be tried with the option
<style color=#00ffffff size=1>.</style>                 	id=string
<style color=#00ffffff size=1>.</style>                 where string is a unique identifier string contained in
<style color=#00ffffff size=1>.</style>                 the attribute memory of the card (see <action name=pcmcia(8)>pcmcia(8)</action>)\;
<style color=#00ffffff size=1>.</style>                 unlike most options in plan9.ini, this string is
<style color=#00ffffff size=1>.</style>                 case-sensitive. The option dummyrr=\[01\] can be used to
<style color=#00ffffff size=1>.</style>                 turn off (0) or on (1) a dummy remote read in the
<style color=#00ffffff size=1>.</style>                 driver in such cases, depending on how NE2000
<style color=#00ffffff size=1>.</style>                 compatible they are.

<style color=#00ffffff size=1>.</style>            i82557
<style color=#00ffffff size=1>.</style>                 Cards using the Intel 8255\[789\] Fast Ethernet PCI Bus
<style color=#00ffffff size=1>.</style>                 LAN Controller such as the Intel EtherExpress PRO/100B.
<style color=#00ffffff size=1>.</style>                 Completely configurable, no options need be given. If
<style color=#00ffffff size=1>.</style>                 you need to force the media, specify one of the options
<style color=#00ffffff size=1>.</style>                 (no value) 10BASE-T, 10BASE-2, 10BASE-5, 100BASE-TX,
<style color=#00ffffff size=1>.</style>                 10BASE-TFD, 100BASE-TXFD, 100BASE-T4, 100BASE-FX, or
<style color=#00ffffff size=1>.</style>                 100BASE-FXFD.

<style color=#00ffffff size=1>.</style>            2114x
<style color=#00ffffff size=1>.</style>                 Cards using the Digital Equipment (now Intel) 2114x PCI
<style color=#00ffffff size=1>.</style>                 Fast Ethernet Adapter Controller, for example the
<style color=#00ffffff size=1>.</style>                 Netgear FA310. Completely configurable, no options need
<style color=#00ffffff size=1>.</style>                 be given. Media can be specified the same was as for
<style color=#00ffffff size=1>.</style>                 the i82557. Some cards using the PNIC and PNIC2
<style color=#00ffffff size=1>.</style>                 near-clone chips may also work.

<style color=#00ffffff size=1>.</style>            wavelan
<style color=#00ffffff size=1>.</style>                 Lucent Wavelan (Orinoco) IEEE 802.11b and compatible
<style color=#00ffffff size=1>.</style>                 PCMCIA cards. Compatible cards include the Dell
<style color=#00ffffff size=1>.</style>                 TrueMobile 1150 and the Linksys Instant Wireless
<style color=#00ffffff size=1>.</style>                 Network PC Card. Port and IRQ defaults are 0x180 and 3
<style color=#00ffffff size=1>.</style>                 respectively.

<style color=#00ffffff size=1>.</style>            These cards take a number of unique options to aid in
<style color=#00ffffff size=1>.</style>                 identifying the card correctly on the 802.11b network.
<style color=#00ffffff size=1>.</style>                 The network may be ad hoc or managed (i.e. use an
<style color=#00ffffff size=1>.</style>                 access point):
<style color=#00ffffff size=1>.</style>                 	mode=\[adhoc, managed\]
<style color=#00ffffff size=1>.</style>                 and defaults to managed. The 802.11b network to attach
<style color=#00ffffff size=1>.</style>                 to (managed mode) or identify as (ad hoc mode), is
<style color=#00ffffff size=1>.</style>                 specified by
<style color=#00ffffff size=1>.</style>                 	essid=string
<style color=#00ffffff size=1>.</style>                 and defaults to a null string. The card station name is
<style color=#00ffffff size=1>.</style>                 given by
<style color=#00ffffff size=1>.</style>                 	station=string
<style color=#00ffffff size=1>.</style>                 and defaults to Plan 9 STA. The channel to use is given
<style color=#00ffffff size=1>.</style>                 by
<style color=#00ffffff size=1>.</style>                 	channel=number
<style color=#00ffffff size=1>.</style>                 where number lies in the range 1 to 16 inclusive\; the
<style color=#00ffffff size=1>.</style>                 channel is normally negotiated automatically.

<style color=#00ffffff size=1>.</style>            If the card is capable of encryption, the following options
<style color=#00ffffff size=1>.</style>                 may be used:
<style color=#00ffffff size=1>.</style>                 	crypt=\[off, on\]
<style color=#00ffffff size=1>.</style>                 and defaults to on.
<style color=#00ffffff size=1>.</style>                 	keyN=string
<style color=#00ffffff size=1>.</style>                 sets the encryption key n (where n is in the range 1 to
<style color=#00ffffff size=1>.</style>                 4 inclusive) to string\; this will also set the transmit
<style color=#00ffffff size=1>.</style>                 key to n (see below).
<style color=#00ffffff size=1>.</style>                 	txkey=number
<style color=#00ffffff size=1>.</style>                 sets the transmit key to use to be number in the range
<style color=#00ffffff size=1>.</style>                 1 to 4 inclusive. If it is desired to exclude or
<style color=#00ffffff size=1>.</style>                 include unencrypted packets
<style color=#00ffffff size=1>.</style>                 	clear=\[off, on\]
<style color=#00ffffff size=1>.</style>                 configures reception and defaults to inclusion.

<style color=#00ffffff size=1>.</style>            The defaults are intended to match the common case of a
<style color=#00ffffff size=1>.</style>                 managed network with encryption and a typical entry
<style color=#00ffffff size=1>.</style>                 would only require, for example
<style color=#00ffffff size=1>.</style>                 	essid=left-armpit key2=fishcalledraawaru
<style color=#00ffffff size=1>.</style>                 if the port and IRQ defaults are used. These options
<style color=#00ffffff size=1>.</style>                 may be set after boot by writing to the device's ctl
<style color=#00ffffff size=1>.</style>                 file using a space as the separator between option and
<style color=#00ffffff size=1>.</style>                 value, e.g.
<style color=#00ffffff size=1>.</style>                 	echo 'key2 fishcalledraawaru' > /net/ether0/0/ctl

<style color=#00ffffff size=1>.</style>            wavelanpci
<style color=#00ffffff size=1>.</style>                 PCI ethernet adapters that use the same Wavelan
<style color=#00ffffff size=1>.</style>                 programming interface. Currently the only tested cards
<style color=#00ffffff size=1>.</style>                 are those based on the Intersil Prism 2.5 chipset.

<style color=#00ffffff size=1>.</style>            83815
<style color=#00ffffff size=1>.</style>                 National Semiconductor DP83815-based adapters, notably
<style color=#00ffffff size=1>.</style>                 the Netgear FA311, Netgear FA312, and various SiS
<style color=#00ffffff size=1>.</style>                 built-in controllers such as the SiS900. On the SiS
<style color=#00ffffff size=1>.</style>                 controllers, the ethernet address is not detected
<style color=#00ffffff size=1>.</style>                 properly\; specify it with an ea= attribute.

<style color=#00ffffff size=1>.</style>            rtl8139
<style color=#00ffffff size=1>.</style>                 The Realtek 8139.

<style color=#00ffffff size=1>.</style>            82543gc
<style color=#00ffffff size=1>.</style>                 The Intel RS-82543GC gigabit ethernet controller, as
<style color=#00ffffff size=1>.</style>                 found on the Intel PRO/1000\[FT\] server adapter. The
<style color=#00ffffff size=1>.</style>                 older non-\[FT\] cards based on the 82542 (LSI L2A1157)
<style color=#00ffffff size=1>.</style>                 chip are not supported, although support would probably
<style color=#00ffffff size=1>.</style>                 be easy to add.

<style color=#00ffffff size=1>.</style>            smc91cxx
<style color=#00ffffff size=1>.</style>                 SMC 91cXX chip-based PCMCIA adapters, notably the SMC
<style color=#00ffffff size=1>.</style>                 EtherEZ card.

<style color=#00ffffff size=1>.</style>            sink A /dev/null for ethernet packets — the interface
<style color=#00ffffff size=1>.</style>                 discards sent packets and never receives any. This is
<style color=#00ffffff size=1>.</style>                 used to provide a test bed for some experimental
<style color=#00ffffff size=1>.</style>                 ethernet bridging software.

<style color=#00ffffff size=1>.</style>         \fLusbX=type=uhci port=xxx irq=xxx\fP
<style color=#00ffffff size=1>.</style>            This specifies the settings for a USB UHCI controller. Like
<style color=#00ffffff size=1>.</style>            the ethernet controllers, USB controllers are autodetected
<style color=#00ffffff size=1>.</style>            after scanning for the ones listed in plan9.ini. Thus, most
<style color=#00ffffff size=1>.</style>            systems will not need a usbX line. Also like the ethernet
<style color=#00ffffff size=1>.</style>            controllers, USB autoprobing can be disabled by specifying
<style color=#00ffffff size=1>.</style>            the line *nousbprobe=.

<style color=#00ffffff size=1>.</style>         \fLscsiX=value\fP
<style color=#00ffffff size=1>.</style>            This defines a SCSI interface which cannot be automatically
<style color=#00ffffff size=1>.</style>            detected by the kernel.

<style color=#00ffffff size=1>.</style>            Known types are

<style color=#00ffffff size=1>.</style>            aha1542
<style color=#00ffffff size=1>.</style>                 The Adaptec 154x series of controllers (and clones).
<style color=#00ffffff size=1>.</style>                 Almost completely configurable, only the
<style color=#00ffffff size=1>.</style>                 	port=0x300
<style color=#00ffffff size=1>.</style>                 option need be given.

<style color=#00ffffff size=1>.</style>            NCR/Symbios/LSI Logic 53c8xx-based adapters and Mylex
<style color=#00ffffff size=1>.</style>            MultiMaster (Buslogic BT-*) adapters are automatically
<style color=#00ffffff size=1>.</style>            detected and need no entries.

<style color=#00ffffff size=1>.</style>            By default, the NCR 53c8xx driver searches for up to 32
<style color=#00ffffff size=1>.</style>            controllers. This can be changed by setting the variable
<style color=#00ffffff size=1>.</style>            *maxsd53c8xx.

<style color=#00ffffff size=1>.</style>            By default the Mylex driver resets SCSI cards by using both
<style color=#00ffffff size=1>.</style>            the hard reset and SCSI bus reset flags in the driver
<style color=#00ffffff size=1>.</style>            interface. If a variable *noscsireset is defined, the SCSI
<style color=#00ffffff size=1>.</style>            bus reset flag is omitted.

<style color=#00ffffff size=1>.</style>         Uarts
<style color=#00ffffff size=1>.</style>            Plan 9 automatically configures COM1 and COM2, if found, as
<style color=#00ffffff size=1>.</style>            eia0 (port 0x3F8, IRQ4) and eia1 (port 0x2F8, IRQ3)
<style color=#00ffffff size=1>.</style>            respectively. These devices can be disabled by adding a
<style color=#00ffffff size=1>.</style>            line:
<style color=#00ffffff size=1>.</style>                eiaX=disabled
<style color=#00ffffff size=1>.</style>            This is typically done in order to reuse the IRQ for another
<style color=#00ffffff size=1>.</style>            device.

<style color=#00ffffff size=1>.</style>            The system used to support various serial concentrators,
<style color=#00ffffff size=1>.</style>            including the TTC 8 serial line card and various models in
<style color=#00ffffff size=1>.</style>            the Star Gate Avanstar series of intelligent serial boards.
<style color=#00ffffff size=1>.</style>            These are no longer supported\; the much simpler Perle
<style color=#00ffffff size=1>.</style>            PCI-Fast4, PCI-Fast8, and PCI-Fast16 controllers have taken
<style color=#00ffffff size=1>.</style>            their places. These latter cards are automatically detected
<style color=#00ffffff size=1>.</style>            and need no configuration lines.

<style color=#00ffffff size=1>.</style>            The line serial=type=com can be used to specify settings for
<style color=#00ffffff size=1>.</style>            a PCMCIA modem.

<style color=#00ffffff size=1>.</style>         \fLmouseport=value\fP
<style color=#00ffffff size=1>.</style>            This specifies where the mouse is attached. Value can be

<style color=#00ffffff size=1>.</style>            ps2  the PS2 mouse/keyboard port.  The BIOS setup procedure
<style color=#00ffffff size=1>.</style>                 should be used to configure the machine appropriately.

<style color=#00ffffff size=1>.</style>            ps2intellimouse
<style color=#00ffffff size=1>.</style>                 an Intellimouse on the PS2 port.

<style color=#00ffffff size=1>.</style>            0    for COM1

<style color=#00ffffff size=1>.</style>            1    for COM2

<style color=#00ffffff size=1>.</style>         \fLmodemport=value\fP
<style color=#00ffffff size=1>.</style>            Picks the UART line to call out on. This is used when
<style color=#00ffffff size=1>.</style>            connecting to a file server over an async line. Value is the
<style color=#00ffffff size=1>.</style>            number of the port.

<style color=#00ffffff size=1>.</style>         \fLpccard0=disabled\fP
<style color=#00ffffff size=1>.</style>            Disable probing for and automatic configuration of PC card
<style color=#00ffffff size=1>.</style>            controllers.

<style color=#00ffffff size=1>.</style>         \fLpcmciaX=type=XXX irq=value\fP
<style color=#00ffffff size=1>.</style>            If the default IRQ for the PCMCIA is correct, this entry can
<style color=#00ffffff size=1>.</style>            be omitted.  The value of type is ignored.

<style color=#00ffffff size=1>.</style>         \fLpcmcia0=disabled\fP
<style color=#00ffffff size=1>.</style>            Disable probing for and automatic configuration of PCMCIA
<style color=#00ffffff size=1>.</style>            controllers.

<style color=#00ffffff size=1>.</style>         \fLconsole=value params\fP
<style color=#00ffffff size=1>.</style>            This is used to specify the console device. The default
<style color=#00ffffff size=1>.</style>            value is cga\; a number 0 or 1 specifies COM1 or COM2
<style color=#00ffffff size=1>.</style>            respectively. A serial console is initially configured with
<style color=#00ffffff size=1>.</style>            the <action name=eia(3)>eia(3)</action> configuration string b9600 l8 pn s1, specifying
<style color=#00ffffff size=1>.</style>            9600 baud, 8 bit bytes, no parity, and one stop bit. If
<style color=#00ffffff size=1>.</style>            params is given, it will be used to further configure the
<style color=#00ffffff size=1>.</style>            uart. Notice that there is no = sign in the params syntax.
<style color=#00ffffff size=1>.</style>            For example,
<style color=#00ffffff size=1>.</style>                console=0 b19200 po
<style color=#00ffffff size=1>.</style>            would use COM1 at 19,200 baud with odd parity.

<style color=#00ffffff size=1>.</style>         \fLbootfile=value\fP
<style color=#00ffffff size=1>.</style>            This is used to direct the actions of 9load(10.8) by naming
<style color=#00ffffff size=1>.</style>            the device and file from which to load the kernel.

<style color=#00ffffff size=1>.</style>         \fLpartition=value\fP
<style color=#00ffffff size=1>.</style>            This defines the partition table 9load(10.8) will examine to
<style color=#00ffffff size=1>.</style>            find disk partitioning information. By default, a partition
<style color=#00ffffff size=1>.</style>            table in a Plan 9 partition is consulted\; if no such table
<style color=#00ffffff size=1>.</style>            is found, an old-Plan 9 partition table on the next-to-last
<style color=#00ffffff size=1>.</style>            or last sector of the disk is consulted. A value of new
<style color=#00ffffff size=1>.</style>            consults only the first table, old only the second.

<style color=#00ffffff size=1>.</style>         \fL*maxmem=value\fP
<style color=#00ffffff size=1>.</style>            This defines the maximum physical address that the system
<style color=#00ffffff size=1>.</style>            will scan when sizing memory. By default the operating
<style color=#00ffffff size=1>.</style>            system will scan up to 768 megabytes, but setting *maxmem
<style color=#00ffffff size=1>.</style>            will limit the scan. If the system has more than 768
<style color=#00ffffff size=1>.</style>            megabytes, you must set *maxmem for the kernel to find it.
<style color=#00ffffff size=1>.</style>            *maxmem must be less than 1.75 gigabytes.

<style color=#00ffffff size=1>.</style>         \fL*kernelpercent=value\fP
<style color=#00ffffff size=1>.</style>            This defines what percentage of available memory is reserved
<style color=#00ffffff size=1>.</style>            for the kernel allocation pool. The remainder is left for
<style color=#00ffffff size=1>.</style>            user processes.  The default value is 30 on CPU servers, 60
<style color=#00ffffff size=1>.</style>            on terminals with less than 16MB of memory, and 40 on
<style color=#00ffffff size=1>.</style>            terminals with memories of 16MB or more. Terminals use more
<style color=#00ffffff size=1>.</style>            kernel memory because <action name=draw(3)>draw(3)</action> maintains its graphic images
<style color=#00ffffff size=1>.</style>            in kernel memory. This deprecated option is rarely necessary
<style color=#00ffffff size=1>.</style>            in newer kernels.

<style color=#00ffffff size=1>.</style>         \fL*nomce=value\fP
<style color=#00ffffff size=1>.</style>            If machine check exceptions are supported by the processor,
<style color=#00ffffff size=1>.</style>            then they are enabled by default. Setting this variable to 1
<style color=#00ffffff size=1>.</style>            causes them to be disabled even when available.

<style color=#00ffffff size=1>.</style>         \fL*nomp=\fP
<style color=#00ffffff size=1>.</style>            A multiprocessor machine will enable all processors by
<style color=#00ffffff size=1>.</style>            default. Setting *nomp restricts the kernel to starting only
<style color=#00ffffff size=1>.</style>            one processor and using the traditional interrupt
<style color=#00ffffff size=1>.</style>            controller.

<style color=#00ffffff size=1>.</style>         \fL*ncpu=value\fP
<style color=#00ffffff size=1>.</style>            Setting *ncpu restricts the kernel to starting at most value
<style color=#00ffffff size=1>.</style>            processors.

<style color=#00ffffff size=1>.</style>         \fL*pcimaxbno=value\fP
<style color=#00ffffff size=1>.</style>            This puts a limit on the maximum bus number probed on a PCI
<style color=#00ffffff size=1>.</style>            bus (default 255). For example, a value of 1 should suffice
<style color=#00ffffff size=1>.</style>            on a 'standard' motherboard with an AGP slot. This, and 
<style color=#00ffffff size=1>.</style>            *pcimaxdno below are rarely used and only on troublesome or
<style color=#00ffffff size=1>.</style>            suspect hardware.

<style color=#00ffffff size=1>.</style>         \fL*pcimaxdno=value\fP
<style color=#00ffffff size=1>.</style>            This puts a limit on the maximum device number probed on a
<style color=#00ffffff size=1>.</style>            PCI bus (default 31).

<style color=#00ffffff size=1>.</style>         \fL*nopcirouting=\fP
<style color=#00ffffff size=1>.</style>            Disable pci routing during boot.  May solve interrupt
<style color=#00ffffff size=1>.</style>            routing problems on certain machines.

<style color=#00ffffff size=1>.</style>         \fLioexclude=value\fP
<style color=#00ffffff size=1>.</style>            Specifies a list of ranges I/O ports to exclude from use by
<style color=#00ffffff size=1>.</style>            drivers. Ranges are inclusive on both ends and separated by
<style color=#00ffffff size=1>.</style>            commas. For example:
<style color=#00ffffff size=1>.</style>                ioexclude=0x330-0x337,0x430-0x43F

<style color=#00ffffff size=1>.</style>         \fLapm0=\fP
<style color=#00ffffff size=1>.</style>            This enables the ``advanced power management'' interface as
<style color=#00ffffff size=1>.</style>            described in <action name=apm(3)>apm(3)</action>. The main feature of the interface is
<style color=#00ffffff size=1>.</style>            the ability to watch battery life. It is not on by default
<style color=#00ffffff size=1>.</style>            because it causes problems on some laptops.

<style color=#00ffffff size=1>.</style>         \fLmonitor=value\fP
<style color=#00ffffff size=1>.</style>         \fLvgasize=value\fP
<style color=#00ffffff size=1>.</style>            These are used not by the kernel but by system
<style color=#00ffffff size=1>.</style>            initialisation.

<style color=#00ffffff size=1>.</style>         \fL*dpms=value\fP
<style color=#00ffffff size=1>.</style>            This is used to specify the screen blanking behavior of the
<style color=#00ffffff size=1>.</style>            MGA4xx video driver. Values are standby, suspend, and off.
<style color=#00ffffff size=1>.</style>            The first two specify differing levels of power saving\; the
<style color=#00ffffff size=1>.</style>            third turns the monitor off completely.

<style color=#00ffffff size=1>.</style>         \fLnvr=value\fP
<style color=#00ffffff size=1>.</style>            This is used by a file server kernel to locate a file
<style color=#00ffffff size=1>.</style>            holding information to configure the file system. The file
<style color=#00ffffff size=1>.</style>            cannot live on a SCSI disk. The default is fd!0!plan9.nvr
<style color=#00ffffff size=1>.</style>            (sic), unless bootfile is set, in which case it is plan9.nvr
<style color=#00ffffff size=1>.</style>            on the same disk as bootfile. The syntax is either fd!unit!
<style color=#00ffffff size=1>.</style>            name or hd!unit!name where unit is the numeric unit id. This
<style color=#00ffffff size=1>.</style>            variant syntax is a vestige of the file server kernel's
<style color=#00ffffff size=1>.</style>            origins.

<style color=#00ffffff size=1>.</style>         \fLaudioX=value\fP
<style color=#00ffffff size=1>.</style>            This defines a sound interface.

<style color=#00ffffff size=1>.</style>            Known types are

<style color=#00ffffff size=1>.</style>            sb16 Sound Blaster 16.

<style color=#00ffffff size=1>.</style>            ess1688
<style color=#00ffffff size=1>.</style>                 A Sound Blaster clone.

<style color=#00ffffff size=1>.</style>            The DMA channel may be any of 5, 6, or 7. The defaults are
<style color=#00ffffff size=1>.</style>            	port=0x220 irq=7 dma=5

<style color=#00ffffff size=1>.</style>         \fLfs=a.b.c.d\fP
<style color=#00ffffff size=1>.</style>         \fLauth=a.b.c.d\fP
<style color=#00ffffff size=1>.</style>            These specify the IP address of the file and authentication
<style color=#00ffffff size=1>.</style>            server to use when mounting a network-provided root file
<style color=#00ffffff size=1>.</style>            system. They are used only if the addresses cannot be
<style color=#00ffffff size=1>.</style>            determined via DHCP.

Multiple Configurations
<style color=#00ffffff size=1>.</style>            A plan9.ini file may contain multiple configurations, each
<style color=#00ffffff size=1>.</style>            within a block beginning with a line
<style color=#00ffffff size=1>.</style>            	\[tag\]
<style color=#00ffffff size=1>.</style>            A special block with the tag menu gives a list of blocks
<style color=#00ffffff size=1>.</style>            from which the user may interactively select the contents of
<style color=#00ffffff size=1>.</style>            plan9.ini. There may also be multiple blocks with the tag
<style color=#00ffffff size=1>.</style>            common which will be included in all selections\; if any
<style color=#00ffffff size=1>.</style>            lines appear in plan9.ini before the first block, they are
<style color=#00ffffff size=1>.</style>            treated as a common block.

<style color=#00ffffff size=1>.</style>            Within the menu block the following configuration lines are
<style color=#00ffffff size=1>.</style>            allowed:

<style color=#00ffffff size=1>.</style>         \fLmenuitem=tag\[, description\]
<style color=#00ffffff size=1>.</style>            The block identified by tag will appear in the presented
<style color=#00ffffff size=1>.</style>            menu. The menu entry will consist of the tag unless the
<style color=#00ffffff size=1>.</style>            optional description is given.

<style color=#00ffffff size=1>.</style>         \fLmenudefault=tag\[, timeout\]
<style color=#00ffffff size=1>.</style>            Identifies a default block to be given in the menu selection
<style color=#00ffffff size=1>.</style>            prompt. If the optional timeout is given (in seconds), the
<style color=#00ffffff size=1>.</style>            default block will be selected if there is no user input
<style color=#00ffffff size=1>.</style>            within the timeout period.

<style color=#00ffffff size=1>.</style>         \fLmenuconsole=value\[, baud\]
<style color=#00ffffff size=1>.</style>            Selects a serial console upon which to present the menu as
<style color=#00ffffff size=1>.</style>            no console or baud configuration information will have been
<style color=#00ffffff size=1>.</style>            processed yet (the plan9.ini contents are still to be
<style color=#00ffffff size=1>.</style>            decided...).

<style color=#00ffffff size=1>.</style>            In response to the menu being printed, the user is prompted
<style color=#00ffffff size=1>.</style>            to select a menu item from the list. If the numeric response
<style color=#00ffffff size=1>.</style>            is followed by a p, the selected configuration is printed
<style color=#00ffffff size=1>.</style>            and the menu presented again.

<style color=#00ffffff size=1>.</style>            The line
<style color=#00ffffff size=1>.</style>            	menuitem=tag
<style color=#00ffffff size=1>.</style>            is prefixed to the selected configuration as an aid to
<style color=#00ffffff size=1>.</style>            user-level initialization scripts.

EXAMPLES
<style color=#00ffffff size=1>.</style>            A representative plan9.ini:

<style color=#00ffffff size=1>.</style>                 % cat /n/c:/plan9.ini
<style color=#00ffffff size=1>.</style>                 ether0=type=3C509
<style color=#00ffffff size=1>.</style>                 mouseport=ps2
<style color=#00ffffff size=1>.</style>                 modemport=1
<style color=#00ffffff size=1>.</style>                 serial0=type=generic port=0x3E8 irq=5
<style color=#00ffffff size=1>.</style>                 monitor=445x
<style color=#00ffffff size=1>.</style>                 vgasize=1600x1200x8
<style color=#00ffffff size=1>.</style>                 % 

<style color=#00ffffff size=1>.</style>            Minimum CONFIG.SYS and AUTOEXEC.BAT files to use COM2 as a
<style color=#00ffffff size=1>.</style>            console:

<style color=#00ffffff size=1>.</style>                 % cat /n/c:/config.sys
<style color=#00ffffff size=1>.</style>                 SHELL=COMMAND.COM COM2 /P
<style color=#00ffffff size=1>.</style>                 % cat /n/c:/autoexec.bat
<style color=#00ffffff size=1>.</style>                 @ECHO OFF
<style color=#00ffffff size=1>.</style>                 PROMPT $p$g
<style color=#00ffffff size=1>.</style>                 PATH C:\DOS\;C:\BIN
<style color=#00ffffff size=1>.</style>                 mode com2:96,n,8,1,p
<style color=#00ffffff size=1>.</style>                 SET TEMP=C:\TMP
<style color=#00ffffff size=1>.</style>                 % 

<style color=#00ffffff size=1>.</style>            Simple plan9.ini with multiple configurations:

<style color=#00ffffff size=1>.</style>                 \[menu\]
<style color=#00ffffff size=1>.</style>                 menuitem=vga, Plan 9 with VGA
<style color=#00ffffff size=1>.</style>                 menuitem=novga, Plan 9 no automatic VGA
<style color=#00ffffff size=1>.</style>                 menudefault=vga

<style color=#00ffffff size=1>.</style>                 \[vga\]
<style color=#00ffffff size=1>.</style>                 monitor=multisync135
<style color=#00ffffff size=1>.</style>                 vgasize=1024x768x8

<style color=#00ffffff size=1>.</style>                 \[novga\]

<style color=#00ffffff size=1>.</style>                 \[common\]
<style color=#00ffffff size=1>.</style>                 ether0=type=i82557
<style color=#00ffffff size=1>.</style>                 audio0=type=sb16 port=0x220 irq=5 dma=1

<style color=#00ffffff size=1>.</style>            With this, the following menu will be presented on boot:

<style color=#00ffffff size=1>.</style>                 Plan 9 Startup Menu:
<style color=#00ffffff size=1>.</style>                 ====================
<style color=#00ffffff size=1>.</style>                     1. Plan 9 with VGA
<style color=#00ffffff size=1>.</style>                     2. Plan 9 no automatic VGA
<style color=#00ffffff size=1>.</style>                 Selection\[default==1\]: 

<style color=#00ffffff size=1>.</style>            Selecting item 1 generates the following plan9.ini to be
<style color=#00ffffff size=1>.</style>            used by the remainder of the bootstrap process:

<style color=#00ffffff size=1>.</style>                 menuitem=vga
<style color=#00ffffff size=1>.</style>                 monitor=multisync135
<style color=#00ffffff size=1>.</style>                 vgasize=1024x768x8
<style color=#00ffffff size=1>.</style>                 ether0=type=i82557
<style color=#00ffffff size=1>.</style>                 audio0=type=sb16 port=0x220 irq=5 dma=1

<style color=#00ffffff size=1>.</style>            and selecting item 2:

<style color=#00ffffff size=1>.</style>                 menuitem=novga
<style color=#00ffffff size=1>.</style>                 ether0=type=i82557
<style color=#00ffffff size=1>.</style>                 audio0=type=sb16 port=0x220 irq=5 dma=1

SEE ALSO
<style color=#00ffffff size=1>.</style>            <action name=root(3)>root(3)</action>, 9load(10.8)

BUGS
<style color=#00ffffff size=1>.</style>            Being able to set the console device to other than a display
<style color=#00ffffff size=1>.</style>            is marginally useful on file servers\; MS-DOS and the
<style color=#00ffffff size=1>.</style>            programs which run under it are so tightly bound to the
<style color=#00ffffff size=1>.</style>            display that it is necessary to have a display if any setup
<style color=#00ffffff size=1>.</style>            or reconfiguration programs need to be run. Also, the delay
<style color=#00ffffff size=1>.</style>            before any messages appear at boot time is disconcerting, as
<style color=#00ffffff size=1>.</style>            any error messages from the BIOS are lost.

<style color=#00ffffff size=1>.</style>            This idea is at best an interesting experiment that needs
<style color=#00ffffff size=1>.</style>            another iteration.

<style color=#00ffffff size=1>.</style>                                Inferno Manual
